## **–£—Ä–æ–∫ 14: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è baseUrl —Ç–∞ Contexts —É Cypress**

### **–ú–µ—Ç–∞**

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `baseUrl` –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó —É —Ç–µ—Å—Ç–∞—Ö —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—ñ–¥–Ω–æ—Å–Ω–∏—Ö URL.
- –†–æ–∑—É–º—ñ—Ç–∏ —Ç–∞ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–≤ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏–º–∏ —Å—Ü–µ–Ω–∞—Ä—ñ—è–º–∏.
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ Cypress, —Ç–∞–∫—ñ —è–∫ `cy.origin` –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –¥–æ–º–µ–Ω–∞–º–∏.
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Ç–µ—Å—Ç—ñ–≤.

---

### **–ó–º—ñ—Å—Ç —É—Ä–æ–∫—É**

#### **A. baseUrl**

1. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è baseUrl —É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Cypress:**
   - **–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**  
     `baseUrl` ‚Äî —Ü–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä —É Cypress, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î –∫–æ—Ä–µ–Ω–µ–≤–∏–π URL –¥–ª—è —É—Å—ñ—Ö –≤–∞—à–∏—Ö —Ç–µ—Å—Ç—ñ–≤. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥–Ω–æ—Å–Ω—ñ URL —É –∫–æ–º–∞–Ω–¥–∞—Ö, —Ç–∞–∫–∏—Ö —è–∫ `cy.visit('/')`.
   - **–ü—Ä–∏–∫–ª–∞–¥:**
     ```javascript
     // cypress.config.js
     import { defineConfig } from 'cypress';

     export default defineConfig({
       e2e: {
         baseUrl: 'http://localhost:3000',
         // –Ü–Ω—à—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è‚Ä¶
       },
     });
     ```

2. **–ü–µ—Ä–µ–≤–∞–≥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è baseUrl:**
   - **–°–ø—Ä–æ—â–µ–Ω–Ω—è:**  
     –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏ –ø–æ–≤–Ω–∏–π URL –≤ —Ç–µ—Å—Ç–∞—Ö; –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–¥–Ω–æ—Å–Ω—ñ —à–ª—è—Ö–∏.
   - **–ì–Ω—É—á–∫—ñ—Å—Ç—å:**  
     –õ–µ–≥–∫–æ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —à–ª—è—Ö–æ–º –∑–∞–º—ñ–Ω–∏ baseUrl (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä–æ–∑—Ä–æ–±–∫–∞, staging, –ø—Ä–æ–¥–∞–∫—à–Ω).
   - **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞:**  
     –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è URL; —è–∫—â–æ –∞–¥—Ä–µ—Å–∞ –∑–º—ñ–Ω–∏—Ç—å—Å—è, –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω —Ñ–∞–π–ª.

3. **–ó–º—ñ–Ω–∞ baseUrl –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â:**
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∞–±–æ –æ–∫—Ä–µ–º—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ –¥–ª—è –∑–º—ñ–Ω–∏ baseUrl.
   - **–ü—Ä–∏–∫–ª–∞–¥:**
     ```javascript
     // —É cypress.config.js –∑ loadEnv (–¥–∏–≤. —É—Ä–æ–∫ 12)
     import { defineConfig, loadEnv } from 'vite';
     export default defineConfig(({ mode }) => {
       const env = loadEnv(mode, process.cwd(), ['VITE_']);
       return {
         e2e: {
           baseUrl: env.VITE_API_BASE_URL || 'http://localhost:3000',
           // —ñ–Ω—à—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è...
         }
       };
     });
     ```
   - –ó —Ä—ñ–∑–Ω–∏–º–∏ .env-—Ñ–∞–π–ª–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `.env.development`, `.env.production`) baseUrl –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ.

---

#### **B. –ö–æ–Ω—Ç–µ–∫—Å—Ç–∏ —É Cypress**

1. **–†–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–≤ —É Cypress:**
   - **–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**  
     –ö–æ–Ω—Ç–µ–∫—Å—Ç–∏ (–∞–±–æ –ª–æ–≥—ñ—á–Ω—ñ –≥—Ä—É–ø–∏) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–µ—Å—Ç—ñ–≤ —ñ–∑ —Å–ø—ñ–ª—å–Ω–æ—é –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–æ—é –∞–±–æ –¥–ª—è –ø–µ–≤–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
     
   - **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**  
     –£ Cypress –Ω–µ–º–∞—î –æ–∫—Ä–µ–º–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó context (–æ—Å–∫—ñ–ª—å–∫–∏ `context()` —Ü–µ –ª–∏—à–µ –ø—Å–µ–≤–¥–æ–Ω—ñ–º –¥–ª—è `describe()`), –∞–ª–µ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω—ñ –±–ª–æ–∫–∏ `describe()` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª–æ–≥—ñ—á–Ω–∏—Ö –≥—Ä—É–ø.

2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–≤ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏–º–∏ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ —Å—Ü–µ–Ω–∞—Ä—ñ—è–º–∏:**
   - **–ü—Ä–∏–∫–ª–∞–¥:**  
     –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ –∑–∞ —Å—Ç–∞–Ω–∞–º–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —É–≤—ñ–π—à–æ–≤", "–ö–æ–ª–∏ –Ω–µ —É–≤—ñ–π—à–æ–≤").
   - **–ü—Ä–∏–∫–ª–∞–¥ –≤–∫–ª–∞–¥–µ–Ω–∏—Ö describe:**
     ```javascript
     describe('–°—Ç–æ—Ä—ñ–Ω–∫–∞ –≤—Ö–æ–¥—É @login', () => {
       beforeEach(() => {
         cy.visit('/');
       });

       describe('–ü–æ–º–∏–ª–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó', () => {
         it('–ø–æ–≤–∏–Ω–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ –ª–æ–≥—ñ–Ω –Ω–µ –≤–≤–µ–¥–µ–Ω–∏–π', () => {
           // –¢–µ—Å—Ç–æ–≤–∏–π –∫–æ–¥
         });
         it('–ø–æ–≤–∏–Ω–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ –ø–∞—Ä–æ–ª—å –Ω–µ –≤–≤–µ–¥–µ–Ω–∏–π', () => {
           // –¢–µ—Å—Ç–æ–≤–∏–π –∫–æ–¥
         });
       });

       describe('–£—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥', () => {
         it('–ø–æ–≤–∏–Ω–Ω–∞ —É—Å–ø—ñ—à–Ω–æ —É–≤—ñ–π—Ç–∏ –∑ –≤–∞–ª—ñ–¥–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏', () => {
           // –¢–µ—Å—Ç–æ–≤–∏–π –∫–æ–¥
         });
       });
     });
     ```

     –£ Cypress –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ—Å—Ç—É –∑–∞–∑–≤–∏—á–∞–π –≤–∫–ª—é—á–∞—î:
      - JavaScript-—Å–µ—Ä–µ–¥–æ–≤–∏—â–µ, —É —è–∫–æ–º—É –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤–∞—à –∫–æ–¥.
      - –î–æ–º–µ–Ω (origin) —Å—Ç–æ—Ä—ñ–Ω–∫–∏, —è–∫—É –≤–∏ –≤—ñ–¥–≤—ñ–¥—É—î—Ç–µ.
      - –°—Ç–∞–Ω –±—Ä–∞—É–∑–µ—Ä–∞: cookies, localStorage, —Å–µ—Å—ñ—ó, –Ω–∞–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—ñ –≤ –ø–∞–º‚Äô—è—Ç—ñ.
---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö –¥–æ–º–µ–Ω—ñ–≤ —É Cypress

##### **–©–æ —Ç–∞–∫–µ Multidomain Testing?**

–ú—É–ª—å—Ç–∏–¥–æ–º–µ–Ω–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è ‚Äî —Ü–µ —Å—Ü–µ–Ω–∞—Ä—ñ—ó, –∫–æ–ª–∏ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –æ—Ö–æ–ø–ª—é—î –±—ñ–ª—å—à–µ –Ω—ñ–∂ –æ–¥–∏–Ω –¥–æ–º–µ–Ω —á–∏ –ø—ñ–¥–¥–æ–º–µ–Ω. –¶–µ —Ç–∏–ø–æ–≤–æ, –∫–æ–ª–∏ –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫:

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—Ç–æ—Ä–æ–Ω–Ω—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é (OAuth-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏, —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ –ª–æ–≥—ñ–Ω–∏ —Ç–æ—â–æ).
- –ú–∞—î –æ–∫—Ä–µ–º—ñ –¥–æ–º–µ–Ω–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É —Ç–∞ API.
- –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏ —á–∏ –≤—ñ–¥–∂–µ—Ç–∞–º–∏ –Ω–∞ —ñ–Ω—à–æ–º—É –¥–æ–º–µ–Ω—ñ.

### **–í–∏–∫–ª–∏–∫–∏ –ø—Ä–∏ –º—É–ª—Ç–∏–¥–æ–º–µ–Ω–Ω–æ–º—É —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—ñ**

- **–ü–æ–ª—ñ—Ç–∏–∫–∞ Same-Origin:**  
  –ë—Ä–∞—É–∑–µ—Ä–∏ –æ–±–º–µ–∂—É—é—Ç—å –¥–æ—Å—Ç—É–ø JavaScript –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤ —ñ–Ω—à–∏—Ö –¥–æ–º–µ–Ω—ñ–≤. –¶–µ —É—Å–∫–ª–∞–¥–Ω—é—î —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∑–∞—î–º–æ–¥—ñ—ó —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –∑ —Ä—ñ–∑–Ω–∏—Ö –¥–æ–º–µ–Ω—ñ–≤.
  
- **–ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å–µ—Å—ñ—î—é:**  
  –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Å–µ—Å—ñ–π –º—ñ–∂ –¥–æ–º–µ–Ω–∞–º–∏ —Å–∫–ª–∞–¥–Ω–∞, –±–æ cookies —Ç–∞ localStorage —Ç–∏–ø–æ–≤–æ –Ω–µ –ø–æ—à–∏—Ä—é—é—Ç—å—Å—è –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ –¥–æ–º–µ–Ω–∞–º–∏.

- **–¶—ñ–ª—ñ—Å–Ω–∏–π –ø–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö:**  
  –ì–∞—Ä–∞–Ω—Ç—ñ—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –ø–µ—Ä–µ–¥–∞—á—ñ –¥–∞–Ω–∏—Ö –∑ –æ–¥–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É –Ω–∞ —ñ–Ω—à–∏–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ –≤—Ö—ñ–¥ –Ω–∞ –æ–¥–Ω–æ–º—É –¥–æ–º–µ–Ω—ñ –¥–∞—î –¥–æ—Å—Ç—É–ø –Ω–∞ —ñ–Ω—à–æ–º—É) –ø–æ—Ç—Ä–µ–±—É—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ —É —Ç–µ—Å—Ç–∞—Ö.


#### **C. –†–æ–∑—à–∏—Ä–µ–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ Cypress: cy.origin —Ç–∞ cy.session**

1. **cy.origin: –†–æ–±–æ—Ç–∞ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –¥–æ–º–µ–Ω–∞–º–∏**
   - **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:**  
     `cy.origin` –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —ñ–Ω—à–æ–≥–æ origin (–¥–æ–º–µ–Ω—É). –¶–µ –∫–æ—Ä–∏—Å–Ω–æ, –∫–æ–ª–∏ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤–∑–∞—î–º–æ–¥—ñ—î –∑ –∫—ñ–ª—å–∫–æ–º–∞ –¥–æ–º–µ–Ω–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–π —Å–µ—Ä–≤—ñ—Å).
   - **–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
     ```javascript
     // –ü—Ä–∏–∫–ª–∞–¥: –ü–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –¥–æ–º–µ–Ω –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ—ó
     cy.origin('https://external-domain.com', () => {
       cy.get('[data-testid="external-login"]').click();
     });
     ```
   - **–ü–µ—Ä–µ–≤–∞–≥–∏:**  
     –î–æ–∑–≤–æ–ª—è—î —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ –¥–æ–º–µ–Ω–∞–º–∏, –¥–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å –ø—Ä–∏ —Ü—å–æ–º—É –≤—ñ–¥–º–µ–∂—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏.

    #### –í–∞–∂–ª–∏–≤—ñ—Å—Ç—å `cy.origin()` –ø—Ä–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—ñ –∫—ñ–ª—å–∫–æ—Ö –¥–æ–º–µ–Ω—ñ–≤

    **–©–æ —Ç–∞–∫–µ `cy.origin()`?**  
    `cy.origin()` ‚Äî —Ü–µ –∫–æ–º–∞–Ω–¥–∞ Cypress, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —ñ–Ω—à–æ–≥–æ origin, –Ω—ñ–∂ –æ—Å–Ω–æ–≤–Ω–∏–π `baseUrl`. –¶–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è –±–∞–≥–∞—Ç–æ–¥–æ–º–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.

    **–ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ:**

    - **–û–±—Ö—ñ–¥ –æ–±–º–µ–∂–µ–Ω—å Same-Origin:**  
      –î–æ–∑–≤–æ–ª—è—î –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —á–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏ –Ω–∞ —ñ–Ω—à–æ–º—É –¥–æ–º–µ–Ω—ñ. –ë–µ–∑ `cy.origin()` Cypress –≤–∏–¥–∞–≤–∞–≤ –±–∏ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –¥–æ—Å—Ç—É–ø—ñ –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤ —ñ–Ω—à–æ–≥–æ –¥–æ–º–µ–Ω—É.

    - **–†–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–∞ –≤–∑–∞—î–º–æ–¥—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:**  
      –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—å –Ω–∞ —ñ–Ω—à–∏–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–ª–∞—Ç—ñ–∂–Ω–∏–π —à–ª—é–∑ —á–∏ OAuth-–ø—Ä–æ–≤–∞–π–¥–µ—Ä), `cy.origin()` –¥–∞—î –∑–º–æ–≥—É —Å–∏–º—É–ª—é–≤–∞—Ç–∏ —Ç–∞–∫—É –≤–∑–∞—î–º–æ–¥—ñ—é —É —Ç–µ—Å—Ç—ñ.

    - **–ë–µ–∑—à–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:**  
      –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏—Å—è –º—ñ–∂ –¥–æ–º–µ–Ω–∞–º–∏ –≤ –æ–¥–Ω–æ–º—É —Ç–µ—Å—Ç—ñ —ñ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ–≤–Ω—É —é–∑–µ—Ä-–¥–∂–æ—Ä–Ω—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

    **–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `cy.origin()`:**

    –£—è–≤—ñ—Ç—å, –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ –ø–æ—Ç—Ä–µ–±—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–π —Å–µ—Ä–≤—ñ—Å –Ω–∞ `https://auth.example.com`, –∞ –æ—Å–Ω–æ–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–∞—Ü—é—î –Ω–∞ `http://localhost:3000`.

    ```javascript
    // –£ —Ñ–∞–π–ª—ñ —Ç–µ—Å—Ç—É –±–∞–≥–∞—Ç–æ–¥–æ–º–µ–Ω–Ω–æ–≥–æ –ª–æ–≥—ñ–Ω—É
    describe('Multidomain Login Test', () => {
      it('–º–∞—î –≤–∏–∫–æ–Ω–∞—Ç–∏ –≤—Ö—ñ–¥ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ–π auth —Å–µ—Ä–≤—ñ—Å', () => {
        // –í—ñ–¥–≤—ñ–¥–∞—Ç–∏ –≥–æ–ª–æ–≤–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–æ–¥–∞—Ç–∫—É
        cy.visit('/login');

        // –ö–ª—ñ–∫ –≤–µ–¥–µ –¥–æ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –¥–æ–º–µ–Ω—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
        cy.get('[data-testid="login-with-oauth"]').click();

        // –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ cy.origin() –¥–ª—è –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –Ω–∞ –¥–æ–º–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
        cy.origin('https://auth.example.com', () => {
          cy.get('[data-testid="auth-username"]').type('externalUser');
          cy.get('[data-testid="auth-password"]').type('externalPass');
          cy.get('[data-testid="auth-submit"]').click();
        });

        // –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω–∏–π –¥–æ–º–µ–Ω —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —É—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥
        cy.url().should('include', '/dashboard');
        cy.get('[data-testid="welcome-message"]').should('contain', 'Welcome');
      });
    });
    ```



### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É –¥–ª—è –±–∞–≥–∞—Ç–æ–¥–æ–º–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

**–ü—Ä–∏–∫–ª–∞–¥: –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ –∫—ñ–ª—å–∫–æ–º–∞ –¥–æ–º–µ–Ω–∞–º–∏**

–£—è–≤—ñ—Ç—å, –≤–∞—à —Ç–µ—Å—Ç –º–∞—î –≤—ñ–¥–≤—ñ–¥–∞—Ç–∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∏–π —Å–∞–π—Ç –Ω–∞ —ñ–Ω—à–æ–º—É –¥–æ–º–µ–Ω—ñ –ø—ñ—Å–ª—è –≤—Ö–æ–¥—É –≤ –æ—Å–Ω–æ–≤–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫:

```javascript
describe('Multidomain Navigation', () => {
  it('–ø–æ–≤–∏–Ω–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∏–π —Å–∞–π—Ç', () => {
    cy.visit('/login');
    cy.get('[data-testid="login-with-oauth"]').click();

    cy.origin('https://auth.example.com', () => {
      cy.get('[data-testid="auth-username"]').type('externalUser');
      cy.get('[data-testid="auth-password"]').type('externalPass');
      cy.get('[data-testid="auth-submit"]').click();
    });

    // –ü—ñ—Å–ª—è –≤—Ö–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –Ω–∞ —ñ–Ω—à–æ–º—É –¥–æ–º–µ–Ω—ñ
    cy.origin('https://marketing.example.com', () => {
      cy.visit('/special-offers');
      cy.get('[data-testid="offer-banner"]').should('be.visible');
    });
  });
});
```
---

#### **D. –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è**

1. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è baseUrl —ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤:**
   - **–ó–∞–≤–¥–∞–Ω–Ω—è:**  
     –û–Ω–æ–≤—ñ—Ç—å —Ç–µ—Å—Ç–∏ —Ç–∞–∫, —â–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è `cy.visit('/')` —ñ–∑ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º `baseUrl` —É `cypress.config.js`.
   - **–ú–µ—Ç–∞:**  
     –¢–µ—Å—Ç–∏ –º–∞—é—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥–Ω–æ—Å–Ω—ñ URL —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏, —â–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π base URL –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.

3. **–ü—Ä–∞–∫—Ç–∏–∫–∞ –∑ cy.origin —Ç–∞ cy.session:**
   - **–ó–∞–≤–¥–∞–Ω–Ω—è:**  
     –ù–∞–ø–∏—à—ñ—Ç—å —Ç–µ—Å—Ç, —â–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ —ñ–Ω—à–∏–π –¥–æ–º–µ–Ω –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `cy.origin` (—ñ–º—ñ—Ç—É–π—Ç–µ –∑–æ–≤–Ω—ñ—à–Ω—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é).
   - **–ú–µ—Ç–∞:**  
     –ü–æ–∫–∞–∑–∞—Ç–∏, —è–∫ –æ–±—Ä–æ–±–ª—è—Ç–∏ –±–∞–≥–∞—Ç–æ–¥–æ–º–µ–Ω–Ω–æ-—Å—Ü–µ–Ω–∞—Ä—ñ—ó —Ç–∞ –∑–Ω–∏–∑–∏—Ç–∏ –ø—ñ–¥–≥–æ—Ç–æ–≤—á—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å.

---

#### **E. –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–º–∞–Ω–¥ —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Cypress**

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è baseUrl —É —Ç–µ—Å—Ç—ñ:**
```javascript
describe('Home Page Navigation', () => {
  it('–º–∞—î –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—Ö–æ–¥—É –∑ –≤—ñ–¥–Ω–æ—Å–Ω–∏–º —à–ª—è—Ö–æ–º', () => {
    cy.visit('/login'); // –î–æ–¥–∞—î—Ç—å—Å—è –¥–æ baseUrl + /login
    cy.get('[data-testid="page-title"]').should('contain', 'Login');
  });
});
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è cy.origin:**
```javascript
describe('Cross-Origin Login', () => {
  it('–º–∞—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –≤—Ö—ñ–¥ –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–º—É –¥–æ–º–µ–Ω—ñ', () => {
    cy.origin('https://external.example.com', () => {
      cy.get('[data-testid="external-login"]').click();
    });
  });
});
```

---

### **–ü–æ—à–∏—Ä–µ–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ**

1. **Q:** *–Ø–∫ baseUrl –¥–æ–ø–æ–º–∞–≥–∞—î —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ –Ω–∞—à—ñ —Ç–µ—Å—Ç–∏?*  
   **A:** –í—Å—Ç–∞–Ω–æ–≤–∏–≤—à–∏ baseUrl —É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥–Ω–æ—Å–Ω—ñ —à–ª—è—Ö–∏ –≤ `cy.visit()`. –¶–µ —Ä–æ–±–∏—Ç—å –≤–∞—à—ñ —Ç–µ—Å—Ç–∏ —á–∏—Å—Ç—ñ—à–∏–º–∏ —Ç–∞ –ø—Ä–æ—Å—Ç—ñ—à–∏–º–∏ –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.

2. **Q:** *–©–æ —Ç–∞–∫–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∏ —É Cypress —ñ —á–æ–º—É –≤–æ–Ω–∏ –∫–æ—Ä–∏—Å–Ω—ñ?*  
   **A:** –ö–æ–Ω—Ç–µ–∫—Å—Ç–∏, —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–µ–Ω—ñ `describe()` –±–ª–æ–∫–∏, –¥–æ–∑–≤–æ–ª—è—é—Ç—å –ª–æ–≥—ñ—á–Ω–æ –≥—Ä—É–ø—É–≤–∞—Ç–∏ —Ç–µ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–ª–µ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤). –¶–µ –¥–æ–ø–æ–º–∞–≥–∞—î –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç-—Å—å—é—Ç—É, —ñ–∑–æ–ª—è—Ü—ñ—é —Ç–∞ –ø–æ–ª–µ–≥—à—É—î —Å—É–ø—Ä–æ–≤—ñ–¥ —Ç–∞ –¥–µ–±–∞–≥.

3. **Q:** *–Ø–∫–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è cy.origin?*  
   **A:** `cy.origin` –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —ñ–Ω—à–æ–≥–æ –¥–æ–º–µ–Ω—É. –¶–µ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∑–∞—î–º–æ–¥—ñ—ó —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–æ–≤–Ω—ñ—à–Ω—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—é.

5. **Q:** *–ß–∏ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ baseUrl –¥–ª—è –æ–∫—Ä–µ–º–∏—Ö —Ç–µ—Å—Ç—ñ–≤?*  
   **A:** –•–æ—á–∞ baseUrl —î –≥–ª–æ–±–∞–ª—å–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º, –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—Ç–∏ –π–æ–≥–æ —É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ç–µ—Å—Ç–∞—Ö, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∞–±—Å–æ–ª—é—Ç–Ω–∏–π URL —É `cy.visit()`. –ê–ª–µ –∫—Ä–∞—â–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∏–º baseUrl –¥–ª—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ, —è–∫—â–æ –Ω–∞ —Ü–µ –Ω–µ–º–∞—î –æ—Å–æ–±–ª–∏–≤–æ—ó –ø–æ—Ç—Ä–µ–±–∏.

6. **Q:** *–Ø–∫—ñ –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ —É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–≤ —É Cypress?*  
   **A:** –û—Ä–≥–∞–Ω—ñ–∑—É–π—Ç–µ —Ç–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–µ–Ω—ñ –±–ª–æ–∫–∏ `describe()` –∑ —á—ñ—Ç–∫–∏–º–∏ –Ω–∞–∑–≤–∞–º–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ö—É–∫–∏ (beforeEach/afterEach) –¥–ª—è –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –∞–±–æ –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞–Ω—É —É –∫–æ–∂–Ω–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ ‚Äî —Ü–µ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç—å —ñ–∑–æ–ª—è—Ü—ñ—é —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤.

---

### **–ü–æ—à–∏—Ä–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –∫—Ä–æ—Å-–¥–æ–º–µ–Ω–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤**

```javascript
describe('Cypress lost value', () => {
  var value1
  var value2;
  
  it('10 - –ø–µ—Ä–µ–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏ –Ω–∞ domain1 —ñ –∑–±–µ—Ä–µ–≥—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —É –∑–º—ñ–Ω–Ω—É', () => {
    cy.visit('https://domain1.com');
    cy.loginDomain1().then((value) => {
      value1 = value
    })
    value2 = 100
  });

  it('20 - –ø–µ—Ä–µ–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏ –Ω–∞ domain2 –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º value1', () => {
    cy.visit('https://domain2.com');
    cy.log(value2) 
    cy.loginDomain2(value1)
  })
});
```

#### –ß–æ–º—É Cypress –≤—Å–µ —Å–∫–∏–¥–∞—î –ø—Ä–∏ –∑–º—ñ–Ω—ñ –¥–æ–º–µ–Ω—É?

–ü—Ä–∏—á–∏–Ω–∞ —É **–ø—Ä–∞–≤–∏–ª–∞—Ö –±–µ–∑–ø–µ–∫–∏ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–∞**:

##### –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è?

–Ø–∫—â–æ –≤–∏ —Ä–æ–±–∏—Ç–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

```javascript
cy.visit('https://domain1.com');
// –¥–µ—è–∫—ñ –¥—ñ—ó...
cy.visit('https://domain2.com');
// —Ç–µ—Å—Ç –ø–∞–¥–∞—î –∞–±–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –≤—Ç—Ä–∞—á–∞—é—Ç—å—Å—è‚Ä¶
```

Cypress **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∫–∏–¥–∞—î —É–≤–µ—Å—å –±—Ä–∞—É–∑–µ—Ä–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** –ø—Ä–∏ –∑–º—ñ–Ω—ñ origin.

### üîπ –ß–æ–º—É?

–ß–µ—Ä–µ–∑ **–ø–æ–ª—ñ—Ç–∏–∫—É Same-Origin (SOP)** —É –±—Ä–∞—É–∑–µ—Ä–∞—Ö:

* JavaScript –∑ –æ–¥–Ω–æ–≥–æ origin (`https://domain1.com`) –Ω–µ –º–æ–∂–µ –Ω–∞–ø—Ä—è–º—É –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ —ñ–∑ –≤–º—ñ—Å—Ç–æ–º —ñ–Ω—à–æ–≥–æ origin (`https://domain2.com`).
* Cypress –¥–æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è —Ü—ñ—î—ó –ø–æ–ª—ñ—Ç–∏–∫–∏, —â–æ–± **–∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤** —Ç–∞ —É–Ω–∏–∫–Ω—É—Ç–∏ **–≤–∏—Ç–æ–∫—É –¥–∞–Ω–∏—Ö —á–∏ scope** —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω–∏.

–ö–æ–ª–∏ Cypress —Ñ—ñ–∫—Å—É—î –∑–º—ñ–Ω—É origin:

* **–°–∫–∏–¥–∞—î—Ç—å—Å—è —Ç–µ—Å—Ç–æ–≤–∏–π iframe**
* –£—Å—ñ **–∑–º—ñ–Ω–Ω—ñ —É –ø–∞–º‚Äô—è—Ç—ñ**, DOM, cookies —ñ JavaScript **scope –æ—á–∏—â–∞—é—Ç—å—Å—è**
* –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î —ñ–∑–æ–ª—è—Ü—ñ—é —Ç–∞ –±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å —Ç–µ—Å—Ç—É

---

#### –ü—Ä–∏–∫–ª–∞–¥: –ß–æ–º—É –∑–º—ñ–Ω–Ω–∞ `undefined` –ø—Ä–∏ –∑–º—ñ–Ω—ñ –¥–æ–º–µ–Ω—É

```javascript
let token;

it('–æ—Ç—Ä–∏–º—É—î —Ç–æ–∫–µ–Ω –∑ domain1', () => {
  cy.visit('https://domain1.com');
  cy.getCookie('authToken').then((cookie) => {
    token = cookie.value;
  });
});

it('–ø—Ä–æ–±—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ç–æ–∫–µ–Ω –Ω–∞ domain2', () => {
  cy.visit('https://domain2.com');
  cy.log(token); // üî¥ —Ç—É—Ç token –±—É–¥–µ undefined
});
```

##### –©–æ –Ω–µ —Ç–∞–∫?

* –ó–º—ñ–Ω–Ω–∞ `token` –æ–≥–æ–ª–æ—à–µ–Ω–∞ **—É –æ—Å–Ω–æ–≤–Ω—ñ–π –æ–±–ª–∞—Å—Ç—ñ —Ç–µ—Å—Ç—É**.
* –ö–æ–ª–∏ Cypress –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –Ω–æ–≤–∏–π –¥–æ–º–µ–Ω ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ—á–∏—â—É—î—Ç—å—Å—è.
* –¢–æ–º—É `token` –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è ‚Äî Cypress –ø–æ—á–∏–Ω–∞—î "–∑ —á–∏—Å—Ç–æ–≥–æ –∞—Ä–∫—É—à–∞".


–£ Cypress –∫–æ–∂–µ–Ω —Ç–µ—Å—Ç–æ–≤–∏–π –±–ª–æ–∫ (`it`) –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ, —Ç–æ–±—Ç–æ –∑–º—ñ–Ω–Ω—ñ, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ –æ–¥–Ω–æ–º—É —Ç–µ—Å—Ç—ñ, –Ω–µ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –±—É–¥—É—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ñ –≤ —ñ–Ω—à–æ–º—É. –ù–∞–≤—ñ—Ç—å –ø—Ä–∏ –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö, Cypress —Å–∫–∏–¥–∞—î —Å—Ç–∞–Ω –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π. –î–æ–¥–∞—Ç–∫–æ–≤–æ, –∫–æ–º–∞–Ω–¥–∏ Cypress –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ, —Ç–æ–º—É –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –ø–µ—Ä–µ–º—ñ–Ω–Ω—ñ–π —á–µ—Ä–µ–∑ `.then()` –º–æ–∂–µ –Ω–µ –±—É—Ç–∏ —â–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–º, –∞–±–æ –±—É—Ç–∏ —Å–∫–∏–Ω—É—Ç–∏–º –¥–æ –º–æ–º–µ–Ω—Ç—É –∑–∞–ø—É—Å–∫—É —ñ–Ω—à–æ–≥–æ —Ç–µ—Å—Ç—É.

**–û—Å–Ω–æ–≤–Ω—ñ –º–æ–º–µ–Ω—Ç–∏:**

- **–Ü–∑–æ–ª—è—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤:**  
  Cypress –≤–∏–∫–æ–Ω—É—î –∫–æ–∂–µ–Ω `it`-–±–ª–æ–∫ —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–±—ñ—á–Ω–∏—Ö –µ—Ñ–µ–∫—Ç—ñ–≤. –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏.

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å –∫–æ–º–∞–Ω–¥:**  
  –ö–æ–ª–±–µ–∫ –∑ `.then()` —É –ø–µ—Ä—à–æ–º—É —Ç–µ—Å—Ç—ñ –ø—Ä–∏—Å–≤–æ—é—î –∑–Ω–∞—á–µ–Ω–Ω—è, –∞–ª–µ –∫–æ–ª–∏ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –¥—Ä—É–≥–∏–π —Ç–µ—Å—Ç ‚Äî —ñ–∑–æ–ª—è—Ü—ñ—è –º–æ–∂–µ –≤—Å–µ —Å–∫–∏–Ω—É—Ç–∏.

- **Best Practice:**  
  –ó–∞–º—ñ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `cy.session()` –∞–±–æ –±—É–¥—É–π—Ç–µ –ª–∞–Ω—Ü—é–∂–∫–∏ –∫–æ–º–∞–Ω–¥ —É –º–µ–∂–∞—Ö –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫—É. –Ø–∫—â–æ —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥–∞–Ω—ñ –¥–∞–ª—ñ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ—Å—Ç—É —á–µ—Ä–µ–∑ –∑–∞–∫—Ä–∏—Ç—Ç—è (closures) –∞–±–æ –∫–∞—Å—Ç–æ–º–Ω—ñ —Ç–∞—Å–∫–∏ Cypress.

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è –ø—Ä–∏–∫–ª–∞–¥—É:**

```javascript
describe('Cypress lost value', () => {
  var value1;
  
  it('10 - –ø–µ—Ä–µ–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏ –Ω–∞ domain1 —ñ –∑–±–µ—Ä–µ–≥—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è', () => {
    cy.visit('https://domain1.com');
    cy.loginDomain1().then((value) => {
      value1 = value // value1 –ø—Ä–∏—Å–≤–æ—é—î—Ç—å—Å—è —Ç—É—Ç
    });
    value2 = 100 // value1 –ø—Ä–∏—Å–≤–æ—é—î—Ç—å—Å—è —Ç—É—Ç
  });

  it('20 - –ø–µ—Ä–µ–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏ –Ω–∞ domain2 –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º value1', () => {
    cy.visit('https://domain2.com');
    // –ü—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—É value1, value2 –±—É–¥—É—Ç—å undefined —á–µ—Ä–µ–∑ —ñ–∑–æ–ª—è—Ü—ñ—é
    cy.log(value2) //-> value2 undefined
    cy.loginDomain2(value1); //-> value1 undefined
  });  
});
```

–£ –¥—Ä—É–≥–æ–º—É —Ç–µ—Å—Ç—ñ `value1` —î `undefined`, –±–æ:
- **–Ü–∑–æ–ª—è—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤:** –ö–æ–∂–µ–Ω –±–ª–æ–∫ `it` —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–π.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å:** –ù–∞–≤—ñ—Ç—å —è–∫—â–æ value1 –±—É–≤ –ø—Ä–∏—Å–≤–æ—î–Ω–∏–π ‚Äî –≤—ñ–Ω –º–æ–∂–µ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è —á–µ—Ä–µ–∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å —ñ –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏.


–†–æ–∑—É–º—ñ–Ω–Ω—è —ñ–∑–æ–ª—è—Ü—ñ—ó —Ç–µ—Å—Ç—ñ–≤ —Ç–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—ñ –∫–æ–º–∞–Ω–¥ —É Cypress –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º –±—É–¥—É–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ —Ç–µ—Å—Ç–∏ –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Å–ø—ñ–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö.


–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è–º –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏ ‚Äî –æ—Å–æ–±–ª–∏–≤–æ –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ –¥–æ–º–µ–Ω–∞–º–∏ ‚Äî –≤–∞–∂–ª–∏–≤–æ –ø–∞–º‚Äô—è—Ç–∞—Ç–∏, —â–æ Cypress –Ω–∞–≤–º–∏—Å–Ω–æ —ñ–∑–æ–ª—é—î –∫–æ–∂–µ–Ω –±–ª–æ–∫ `it()`. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤, –∞–ª–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —ñ–∑ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç—É –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –≤ —ñ–Ω—à–∏–π. –û—Å—å –¥–µ—è–∫—ñ –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è —Ü—ñ—î—ó —Å–∏—Ç—É–∞—Ü—ñ—ó:

### **Best Practices –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏**

1. **–¢—Ä–∏–º–∞–π—Ç–µ —Ç–µ—Å—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º–∏:**  
   –Ü–¥–µ–∞–ª—å–Ω–æ ‚Äî –∫–æ–∂–µ–Ω —Ç–µ—Å—Ç –º–∞—î –±—É—Ç–∏ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–∏–º. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –æ–¥–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É –Ω–∞ —ñ–Ω—à–∏–π, –æ–±‚Äô—î–¥–Ω–∞–π—Ç–µ —Ü—ñ –¥—ñ—ó —É –æ–¥–∏–Ω —Ç–µ—Å—Ç.

2. **–û–±‚Äô—î–¥–Ω—É–π—Ç–µ –≤–∑–∞—î–º–æ–∑–∞–ª–µ–∂–Ω—ñ —Ñ–ª–æ—É:**  
   –Ø–∫—â–æ –¥–≤—ñ –¥–æ–º–µ–Ω–Ω—ñ –¥—ñ—ó ‚Äî —Ü–µ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π —Ñ–ª–æ—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ª–æ–≥—ñ–Ω –Ω–∞ domain1 —ñ –¥–∞–ª—ñ –¥—ñ—ó –Ω–∞ domain2), –æ–±‚Äô—î–¥–Ω—É–π—Ç–µ —Ü–µ –≤ –æ–¥–Ω–æ–º—É —Ç–µ—Å—Ç—ñ.

4. **–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ cy.task():**  
   –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω–∏–π —Ç–∞—Å–∫ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö (—É —Ñ–∞–π–ª —á–∏ –ø–∞–º‚Äô—è—Ç—å), —è–∫—ñ –º–æ–∂–Ω–∞ –ø–æ—Ç—ñ–º –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤ —ñ–Ω—à–æ–º—É —Ç–µ—Å—Ç—ñ. –¶–µ –∫–æ—Ä–∏—Å–Ω–æ –¥–ª—è –æ–±–º—ñ–Ω—É –¥–∞–Ω–∏–º–∏ –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏, –Ω–∞–≤—ñ—Ç—å —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω–∏.

#### **–ü—Ä–∏–∫–ª–∞–¥–∏ —Ä—ñ—à–µ–Ω—å**

##### **–†—ñ—à–µ–Ω–Ω—è 1: –û–±‚Äô—î–¥–Ω–∞–Ω–Ω—è —É –æ–¥–∏–Ω —Ç–µ—Å—Ç–æ–≤–∏–π –±–ª–æ–∫**

–Ø–∫—â–æ —Ñ–ª–æ—É –≤—ñ–¥ domain1 –¥–æ domain2 ‚Äî —Ü–µ –æ–¥–∏–Ω —é–∑–µ—Ä—Å—å–∫–æ–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π, –æ–±‚Äô—î–¥–Ω—É–π—Ç–µ —ó—Ö:
  
```javascript
describe('Multidomain Login Flow', () => {
  it('–ª–æ–≥—ñ–Ω–∏—Ç—å—Å—è –Ω–∞ domain1 —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ domain2', () => {
    // –ö—Ä–æ–∫ 1: –í—ñ–¥–≤—ñ–¥–∞—Ç–∏ domain1 —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è
    cy.visit('https://domain1.com');
    cy.loginDomain1().then((value) => {
      // value –¥–æ—Å—Ç—É–ø–Ω–µ —Ç—É—Ç
      // –ö—Ä–æ–∫ 2: –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏—Å—è –Ω–∞ domain2 —á–µ—Ä–µ–∑ cy.origin()
      cy.visit('https://domain2.com');
      cy.origin('https://domain2.com', () => {
        // –í–∂–∏—Ç–∏ –æ—Ç—Ä–∏–º–∞–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ domain2
        cy.loginDomain2(value).should('succeed');
      });
    });
  });
});
```

##### **–†—ñ—à–µ–Ω–Ω—è 2: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è cy.task() –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏**

–Ø–∫—â–æ –æ–±‚Äô—î–¥–Ω–∞—Ç–∏ —Ç–µ—Å—Ç–∏ —Å–∫–ª–∞–¥–Ω–æ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω–∏–π —Ç–∞—Å–∫ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ç–µ—Å—Ç—É:

1. **–í–∏–∑–Ω–∞—á—Ç–µ —Ç–∞—Å–∫ —É cypress.config.js –∞–±–æ –æ–∫—Ä–µ–º–æ–º—É —Ñ–∞–π–ª—ñ:**

```javascript
// –£ cypress.config.js –∞–±–æ —É —Ñ–∞–π–ª—ñ support
module.exports = defineConfig({
  e2e: {
    setupNodeEvents(on, config) {
      let sharedValue; // –°—Ö–æ–≤–∏—â–µ —É –ø–∞–º‚Äô—è—Ç—ñ

      on('task', {
        saveValue(value) {
          sharedValue = value;
          return null;
        },
        getValue() {
          return sharedValue;
        }
      });
      return config;
    }
  }
});
```

2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è cy.task() —É —Ç–µ—Å—Ç–∞—Ö:**

```javascript
describe('Multidomain Flow with Persisted Value', () => {
  it('–∑–±–µ—Ä—ñ–≥–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –∑ domain1', () => {
    cy.visit('https://domain1.com');
    cy.loginDomain1().then((value) => {
      cy.task('saveValue', value);
    });
  });

  it('–æ—Ç—Ä–∏–º—É—î –∑–Ω–∞—á–µ–Ω–Ω—è —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –π–æ–≥–æ –Ω–∞ domain2', () => {
    cy.visit('https://domain2.com');
    cy.task('getValue').then((value) => {
      cy.loginDomain2(value).should('succeed');
    });
  });
});
```


##### **–†—ñ—à–µ–Ω–Ω—è 3: –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —É —Ñ–∞–π–ª—ñ**

1. **–ó–∞–¥–∞–π—Ç–µ —Ç–∞—Å–∫–∏ –≤ —Ñ—É–Ω–∫—Ü—ñ—ó `setupNodeEvents`:**

   –£ `cypress.config.js` (–∞–±–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ–º—É —Ñ–∞–π–ª—ñ) –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω—ñ —Ç–∞—Å–∫–∏ –¥–ª—è –∑–∞–ø–∏—Å—É/—á–∏—Ç–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è —É —Ñ–∞–π–ª:

   ```javascript
   const fs = require('fs');
   const path = require('path');

   module.exports = defineConfig({
     e2e: {
       setupNodeEvents(on, config) {
         on('task', {
           writeValue({ filename, value }) {
             const filePath = path.join(__dirname, filename);
             fs.writeFileSync(filePath, JSON.stringify(value));
             return null;
           },
           readValue({ filename }) {
             const filePath = path.join(__dirname, filename);
             if (fs.existsSync(filePath)) {
               const data = fs.readFileSync(filePath, 'utf8');
               return JSON.parse(data);
             }
             return null;
           }
         });
         return config;
       },
       baseUrl: 'http://localhost:3000'
     },
     env: {
       // –ü–µ—Ä–µ–º—ñ–Ω–Ω—ñ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â...
     }
   });
   ```

2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É —Ç–µ—Å—Ç–∞—Ö:**

   –¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞ —á–µ—Ä–µ–∑ `cy.task('writeValue', { filename, value })` –∑–±–µ—Ä–µ–≥—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —É –æ–¥–Ω–æ–º—É —Ç–µ—Å—Ç—ñ, —Ç–∞ —á–µ—Ä–µ–∑ `cy.task('readValue', { filename })` –æ—Ç—Ä–∏–º–∞—Ç–∏ —É —ñ–Ω—à–æ–º—É.

   **–ü—Ä–∏–∫–ª–∞–¥:**

   ```javascript
   describe('Store and Retrieve Value from File', () => {
     it('–º–∞—î –∑–±–µ—Ä–µ–≥—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ domain1 —É —Ñ–∞–π–ª', () => {
       cy.visit('https://domain1.com');
       cy.loginDomain1().then((value) => {
         cy.task('writeValue', { filename: 'cypress/sharedValue.json', value });
       });
     });

     it('–º–∞—î –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ —Ñ–∞–π–ª—É —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –Ω–∞ domain2', () => {
       cy.visit('https://domain2.com');
       cy.task('readValue', { filename: 'cypress/sharedValue.json' }).then((value) => {
         cy.loginDomain2(value).should('succeed');
       });
     });
   });
   ```

  ##### **–ü–µ—Ä–µ–≤–∞–≥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —É —Ñ–∞–π–ª–∞—Ö:**

  - **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è:**  
    –î–∞–Ω—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ç–µ—Å—Ç–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —É —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å–∞—Ö —á–∏ —Å–µ—Å—ñ—è—Ö.
    
  - **–î–µ–±–∞–≥:**  
    –ú–æ–∂–Ω–∞ –≤—Ä—É—á–Ω—É –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ñ–∞–π–ª, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–∞–Ω—ñ.

  - **–î–µ–∫—É–ø–ª—ñ–Ω–≥:**  
    –¢–µ—Å—Ç–∏ –Ω–µ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –ø–∞–º‚Äô—è—Ç—ñ –ø—Ä–æ—Ü–µ—Å—É; –º–æ–∂–Ω–∞ –¥—ñ–ª–∏—Ç–∏—Å—è –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ –∑–∞–ø—É—Å–∫–∞–º–∏ —Ç–µ—Å—Ç—ñ–≤.

  ### **–ù–µ–¥–æ–ª—ñ–∫–∏:**

  - **–í–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ I/O:**  
    –û–ø–µ—Ä–∞—Ü—ñ—ó –∑ —Ñ–∞–π–ª–∞–º–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à—ñ –∑–∞ –ø–∞–º‚Äô—è—Ç—å.
    
  - **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:**  
    –ü–æ—Ç—Ä—ñ–±–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ –æ—á–∏—â–µ–Ω–Ω—è–º —Ñ–∞–π–ª—ñ–≤ —Ç–∞ —É—Å–∫–ª–∞–¥–Ω—é—î—Ç—å—Å—è –ª–æ–≥—ñ–∫–∞.

  - **–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∞ —Ñ–ª–µ–π–∫—ñ—Å—Ç—å:**  
    –Ø–∫—â–æ —Ç–µ—Å—Ç–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω—ñ —ñ –ø–∏—à—É—Ç—å/—á–∏—Ç–∞—é—Ç—å –æ–¥–∏–Ω —Ñ–∞–π–ª ‚Äî –º–æ–∂–ª–∏–≤—ñ race conditions. –ù–µ–æ–±—Ö—ñ–¥–Ω–∞ —ñ–∑–æ–ª—è—Ü—ñ—è —ñ –æ—á–∏—â–µ–Ω–Ω—è.

  ### **Best Practices:**

  - **–£–Ω—ñ–∫–∞–ª—å–Ω—ñ —ñ–º–µ–Ω–∞ —Ñ–∞–π–ª—ñ–≤:**  
    –ü—Ä–∏–∑–Ω–∞—á–∞–π—Ç–µ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –Ω–∞–±–æ—Ä—É —Ç–µ—Å—Ç—ñ–≤.
    
  - **–û—á–∏—â–µ–Ω–Ω—è:**  
    –í–∏–¥–∞–ª—è–π—Ç–µ –∞–±–æ —Å–∫–∏–¥–∞–π—Ç–µ —Ñ–∞–π–ª –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ—Å—Ç—É, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö –¥–∞–Ω–∏—Ö.
    
  - **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫:**  
    –û–±—Ä–æ–±–ª—è–π—Ç–µ —Å–∏—Ç—É–∞—Ü—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ñ–∞–π–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ), —â–æ–± —Ç–µ—Å—Ç–∏ –∑–∞–≤–µ—Ä—à—É–≤–∞–ª–∏—Å—å –∫–æ—Ä–µ–∫—Ç–Ω–æ.

  –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —É —Ñ–∞–π–ª–∞—Ö —á–µ—Ä–µ–∑ `cy.task()` ‚Äî –Ω–∞–¥—ñ–π–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –∑–Ω–∞—á–µ–Ω—å –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏, –æ—Å–æ–±–ª–∏–≤–æ –∫–æ–ª–∏ —ñ–Ω—à—ñ –º–µ—Ç–æ–¥–∏ (–≥–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —á–∏ `cy.session()`) –Ω–µ –ø—ñ–¥—Ö–æ–¥—è—Ç—å. –¶–µ –æ—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω–æ —É –±–∞–≥–∞—Ç–æ–¥–æ–º–µ–Ω–Ω–∏—Ö —á–∏ –º—É–ª—å—Ç–∏-—Å–µ—Å—ñ–π–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö, –¥–µ —Ç—Ä–µ–±–∞ –¥—ñ–ª–∏—Ç–∏—Å—è –¥–∞–Ω–∏–º–∏ –∑–∞ –º–µ–∂–∞–º–∏ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç—É.